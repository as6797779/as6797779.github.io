(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"0a06":function(e,t,n){"use strict";var r=n("c532"),a=n("30b5"),o=n("f6b4"),i=n("5270"),c=n("4a7b"),l=n("848b"),s=l.validators;function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=c(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:s.transitional(s.boolean),forcedJSONParsing:s.transitional(s.boolean),clarifyTimeoutError:s.transitional(s.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var a,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var u=[i,void 0];Array.prototype.unshift.apply(u,n),u=u.concat(o),a=Promise.resolve(e);while(u.length)a=a.then(u.shift(),u.shift());return a}var d=e;while(n.length){var f=n.shift(),m=n.shift();try{d=f(d)}catch(p){m(p);break}}try{a=i(d)}catch(p){return Promise.reject(p)}while(o.length)a=a.then(o.shift(),o.shift());return a},u.prototype.getUri=function(e){return e=c(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(c(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(c(r||{},{method:e,url:t,data:n}))}})),e.exports=u},"0cb2":function(e,t,n){var r=n("7b0b"),a=Math.floor,o="".replace,i=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,l,s,u){var d=n+e.length,f=l.length,m=c;return void 0!==s&&(s=r(s),m=i),o.call(u,m,(function(r,o){var i;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(d);case"<":i=s[o.slice(1,-1)];break;default:var c=+o;if(0===c)return r;if(c>f){var u=a(c/10);return 0===u?r:u<=f?void 0===l[u-1]?o.charAt(1):l[u-1]+o.charAt(1):r}i=l[c-1]}return void 0===i?"":i}))}},"0df6":function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"107c":function(e,t,n){var r=n("d039"),a=n("da84"),o=a.RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"14c3":function(e,t,n){var r=n("825a"),a=n("1626"),o=n("c6b6"),i=n("9263");e.exports=function(e,t){var n=e.exec;if(a(n)){var c=n.call(e,t);return null!==c&&r(c),c}if("RegExp"===o(e))return i.call(e,t);throw TypeError("RegExp#exec called on incompatible receiver")}},"159b":function(e,t,n){var r=n("da84"),a=n("fdbc"),o=n("785a"),i=n("17c2"),c=n("9112"),l=function(e){if(e&&e.forEach!==i)try{c(e,"forEach",i)}catch(t){e.forEach=i}};for(var s in a)a[s]&&l(r[s]&&r[s].prototype);l(o)},"15c2":function(e,t,n){"use strict";var r={pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]},value2:""};t["a"]=r},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,a=n("a640"),o=a("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"1b19":function(e,t,n){},"1d2b":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},"1da1":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("d3b7");function r(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void n(s)}c.done?t(l):Promise.resolve(l).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,l,"next",e)}function l(e){r(i,a,o,c,l,"throw",e)}c(void 0)}))}}},2444:function(e,t,n){"use strict";(function(t){var r=n("c532"),a=n("c8af"),o=n("387f"),i={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function l(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n("b50d")),e}function s(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(a){if("SyntaxError"!==a.name)throw a}return(n||JSON.stringify)(e)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:l(),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),s(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,a=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||a&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(c){if(i){if("SyntaxError"===c.name)throw o(c,this,"E_JSON_PARSE");throw c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(i)})),e.exports=u}).call(this,n("4362"))},"24cd":function(e,t,n){"use strict";n("1b19")},"25f0":function(e,t,n){"use strict";var r=n("5e77").PROPER,a=n("6eeb"),o=n("825a"),i=n("577e"),c=n("d039"),l=n("ad6d"),s="toString",u=RegExp.prototype,d=u[s],f=c((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),m=r&&d.name!=s;(f||m)&&a(RegExp.prototype,s,(function(){var e=o(this),t=i(e.source),n=e.flags,r=i(void 0===n&&e instanceof RegExp&&!("flags"in u)?l.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},2953:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"body-wrapper"},[n("div",{staticClass:"search-box"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,size:"mini"}},[n("el-form-item",{attrs:{label:"员工姓名"}},[n("el-input",{attrs:{placeholder:"请输入员工姓名"},model:{value:e.searchForm.adminName,callback:function(t){e.$set(e.searchForm,"adminName",t)},expression:"searchForm.adminName"}})],1),n("el-form-item",{attrs:{label:"身份证号"}},[n("el-input",{attrs:{placeholder:"请输入身份证号"},model:{value:e.searchForm.cardCode,callback:function(t){e.$set(e.searchForm,"cardCode",t)},expression:"searchForm.cardCode"}})],1),n("el-date-picker",{attrs:{size:"mini",type:"datetimerange","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"left"},on:{change:e.chooseTime},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}}),n("el-form-item",{staticStyle:{"margin-left":"10px"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.searchPage}},[e._v("查询")]),n("el-button",{attrs:{type:"warning"},on:{click:e.resetSearchForm}},[e._v("重置")])],1)],1)],1),n("div",{staticClass:"exec-box"},[e.permBtn.add?n("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-share"},on:{click:function(t){e.editDialog=!0,e.formData={adminGender:0,isActive:!0,adminAvatar:""}}}},[e._v("新建 ")]):e._e(),e.permBtn.edit?n("el-button",{attrs:{size:"mini",type:"warning",icon:"el-icon-edit",disabled:1!=e.ids.length},on:{click:function(t){e.findById(e.ids[0]),e.editDialog=!0}}},[e._v("修改 ")]):e._e(),e.permBtn.del?n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",disabled:0==e.ids.length},on:{click:e.doBatchDelete}},[e._v("删除 ")]):e._e()],1),n("el-scrollbar",[n("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"id",stripe:""},on:{"selection-change":e.selectChange}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[n("el-form-item",{attrs:{label:"账户名称"}},[n("span",[e._v(e._s(t.row.accountName))])]),n("el-form-item",{attrs:{label:"员工姓名"}},[n("span",[e._v(e._s(t.row.adminName))])]),n("el-form-item",{attrs:{label:"员工邮箱"}},[n("span",[e._v(e._s(t.row.adminEmail))])]),n("el-form-item",{attrs:{label:"员工手机"}},[n("span",[e._v(e._s(t.row.adminPhone))])]),n("el-form-item",{attrs:{label:"员工薪资"}},[n("span",[e._v(e._s(t.row.adminSalary))])]),n("el-form-item",{attrs:{label:"员工头像"}},[n("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:t.row.adminAvatar,width:"35px",height:"35px"}})]),n("el-form-item",{attrs:{label:"身份证号"}},[n("span",[e._v(e._s(t.row.cardCode))])]),n("el-form-item",{attrs:{label:"是够激活"}},[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.row.isActive,callback:function(n){e.$set(t.row,"isActive",n)},expression:"props.row.isActive"}})],1),n("el-form-item",{attrs:{label:"是否离职"}},[0==t.row.isEnable?n("el-tag",{attrs:{type:"success"}},[e._v("在职")]):e._e(),1==t.row.isEnable?n("el-tag",{attrs:{type:"danger"}},[e._v("离职")]):e._e()],1),n("el-form-item",{attrs:{label:"员工性别"}},[0==t.row.adminGender?n("el-tag",{attrs:{type:"success"}},[e._v("男")]):e._e(),1==t.row.adminGender?n("el-tag",{attrs:{type:"warning"}},[e._v("女")]):e._e(),2==t.row.adminGender?n("el-tag",{attrs:{type:"danger"}},[e._v("人妖")]):e._e()],1),n("el-form-item",{attrs:{label:"员工地址"}},[n("span",[e._v(e._s(t.row.adminAddress))])])],1)]}}])}),n("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),n("el-table-column",{attrs:{prop:"accountName",align:"center",label:"账户名称"}}),n("el-table-column",{attrs:{prop:"adminName",align:"center",label:"员工姓名"}}),n("el-table-column",{attrs:{prop:"adminSalary",align:"center",label:"员工薪资"}}),n("el-table-column",{attrs:{prop:"adminAvatar",align:"center",label:"员工头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("img",{attrs:{src:e.row.adminAvatar,width:"35px",height:"35px"}})]}}])}),n("el-table-column",{attrs:{prop:"adminGender",align:"center",label:"员工性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.adminGender?n("el-tag",{attrs:{type:"success"}},[e._v("男")]):e._e(),1==t.row.adminGender?n("el-tag",{attrs:{type:"warning"}},[e._v("女")]):e._e(),2==t.row.adminGender?n("el-tag",{attrs:{type:"danger"}},[e._v("人妖")]):e._e()]}}])}),n("el-table-column",{attrs:{align:"center",label:"是够激活"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.row.isActive,callback:function(n){e.$set(t.row,"isActive",n)},expression:"obj.row.isActive"}})]}}])}),n("el-table-column",{attrs:{label:"操作",prop:"address",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.permBtn.edit?n("el-button",{staticStyle:{"margin-right":"10px"},attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(n){e.findById(t.row.id),e.editDialog=!0}}}):e._e(),n("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"这是一段内容确定删除吗？"},on:{confirm:e.batchDelete,cancel:e.batchDeleteCancel}},[e.permBtn.del?n("el-button",{attrs:{slot:"reference",size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(n){return e.itemBtnClick(t.row)}},slot:"reference"}):e._e()],1)]}}])})],1),n("div",{staticClass:"page-box"},[n("el-pagination",{attrs:{background:"","current-page":e.searchForm.currentPage,"page-size":e.searchForm.pageSize,layout:"prev, pager, next",total:e.total},on:{"current-change":e.pageChangeHandler}})],1)],1),n("el-dialog",{attrs:{title:"操作实体",visible:e.editDialog,width:"37%"},on:{"update:visible":function(t){e.editDialog=t}}},[n("el-form",{ref:"form",attrs:{model:e.formData,rules:e.formRules,"label-width":"80px",size:"mini"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"账户名称",prop:"accountName"}},[n("el-input",{model:{value:e.formData.accountName,callback:function(t){e.$set(e.formData,"accountName",t)},expression:"formData.accountName"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"员工姓名",prop:"adminName"}},[n("el-input",{model:{value:e.formData.adminName,callback:function(t){e.$set(e.formData,"adminName",t)},expression:"formData.adminName"}})],1)],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"员工邮箱",prop:"adminEmail"}},[n("el-input",{model:{value:e.formData.adminEmail,callback:function(t){e.$set(e.formData,"adminEmail",t)},expression:"formData.adminEmail"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"联系方式",prop:"adminPhone"}},[n("el-input",{model:{value:e.formData.adminPhone,callback:function(t){e.$set(e.formData,"adminPhone",t)},expression:"formData.adminPhone"}})],1)],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"身份证号",prop:"cardCode"}},[n("el-input",{model:{value:e.formData.cardCode,callback:function(t){e.$set(e.formData,"cardCode",t)},expression:"formData.cardCode"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"员工薪资",prop:"adminSalary"}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:1500},model:{value:e.formData.adminSalary,callback:function(t){e.$set(e.formData,"adminSalary",t)},expression:"formData.adminSalary"}})],1)],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"员工头像"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:"",accept:"image/*","show-file-list":!1,"http-request":e.getImgBaseStr}},[e.formData.adminAvatar?n("img",{staticClass:"avatar",attrs:{src:e.formData.adminAvatar}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"分配角色"}},[n("el-select",{attrs:{multiple:"",placeholder:"请选择角色"},model:{value:e.formData.roleIds,callback:function(t){e.$set(e.formData,"roleIds",t)},expression:"formData.roleIds"}},e._l(e.roleList,(function(e){return n("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})})),1)],1)],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"员工性别"}},[n("el-radio-group",{model:{value:e.formData.adminGender,callback:function(t){e.$set(e.formData,"adminGender",t)},expression:"formData.adminGender"}},[n("el-radio",{attrs:{label:0}},[e._v("男")]),n("el-radio",{attrs:{label:1}},[e._v("女")])],1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"是够激活"}},[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.formData.isActive,callback:function(t){e.$set(e.formData,"isActive",t)},expression:"formData.isActive"}})],1)],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"员工地址",prop:"adminAddress"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.formData.adminAddress,callback:function(t){e.$set(e.formData,"adminAddress",t)},expression:"formData.adminAddress"}})],1)],1)],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.editDialog=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addOrEdit}},[e._v("确 定")])],1)],1)],1)},a=[],o=n("b85c"),i=n("1da1"),c=(n("d81d"),n("159b"),n("96cf"),n("5976")),l={searchPage:function(e){return c["a"].get("admin",{params:e})},findById:function(e){return c["a"].get("admin/".concat(e))},addadmin:function(e){return c["a"].post("admin",e)},updateadmin:function(e){return c["a"].put("admin",e)},deleteById:function(e){return c["a"].delete("admin/".concat(e))},batchDelete:function(e){return c["a"].delete("admin/batch/".concat(e))},getAllRoleList:function(){return Object(c["a"])("role/list")}},s=l,u=n("15c2");function d(e){return c["a"].post("common/upload",e,{headers:{"content-type":"multipart/form-data"}})}var f={name:"index",data:function(){return{pickerOptions:u["a"].pickerOptions,value2:u["a"].value2,searchForm:{currentPage:1,pageSize:5},tableData:[],total:0,editDialog:!1,formData:{adminGender:"1",isActive:!0,adminAvatar:""},ids:[],roleList:[],permBtn:{id:7,add:!1,edit:!1,del:!1},formRules:{accountName:[{required:!0,message:"请输入账户信息",trigger:"blur"},{pattern:/^[a-zA-Z0-9_-]{4,16}$/,message:"用户由数字字母下划线组成4-16位",trigger:"blur"}],adminName:[{required:!0,message:"请输入姓名",trigger:"blur"}],adminEmail:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],adminPhone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{pattern:/^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,5-9]))\d{8}$/,message:"请输入正确的手机",trigger:"blur"}],adminAddress:[{required:!0,message:"地址不能为空",trigger:"blur"}],adminSalary:[{required:!0,message:"员工薪资不能为空",trigger:"blur"}],cardCode:[{required:!0,message:"身份证号不能为空",trigger:"blur"},{pattern:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,message:"请输入正确的身份证号",trigger:"blur"}]}}},created:function(){this.searchPage(),this.getAllRole(),this.getPerm()},methods:{getPerm:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=JSON.parse(localStorage.getItem("menus")),t.next=3,e.foundMenuChild(e.permBtn.id,n);case 3:if(r=t.sent,r&&r.children){a=Object(o["a"])(r.children);try{for(a.s();!(i=a.n()).done;)c=i.value,"sys:admin:add"===c.permSign&&(e.permBtn.add=!0),"sys:admin:edit"===c.permSign&&(e.permBtn.edit=!0),"sys:admin:del"===c.permSign&&(e.permBtn.del=!0)}catch(l){a.e(l)}finally{a.f()}}case 5:case"end":return t.stop()}}),t)})))()},searchPage:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.searchPage(e.searchForm);case 2:n=t.sent,console.log(n),e.tableData=n.data,e.total=n.total;case 6:case"end":return t.stop()}}),t)})))()},getAllRole:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.getAllRoleList();case 2:e.roleList=t.sent;case 3:case"end":return t.stop()}}),t)})))()},addOrEdit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=12;break}if(!e.formData.id){t.next=6;break}return t.next=4,s.updateadmin(e.formData);case 4:t.next=8;break;case 6:return t.next=8,s.addadmin(e.formData);case 8:e.searchPage(),e.editDialog=!1,t.next=14;break;case 12:return console.log("error submit!!"),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},batchDelete:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.batchDelete(e.ids);case 2:e.searchPage();case 3:case"end":return t.stop()}}),t)})))()},findById:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,s.findById(e);case 2:t.formData=n.sent;case 3:case"end":return n.stop()}}),n)})))()},chooseTime:function(e){this.searchForm.startTime=e[0],this.searchForm.endTime=e[1]},pageChangeHandler:function(e){this.searchForm.currentPage=e,this.searchPage()},resetSearchForm:function(){this.searchForm={currentPage:1,pageSize:5},this.value2=[]},getImgBaseStr:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=new FormData,r.append("avatar",e.file),n.next=4,d(r);case 4:t.formData.adminAvatar=n.sent;case 5:case"end":return n.stop()}}),n)})))()},itemBtnClick:function(e){this.$refs.table.clearSelection(),this.$refs.table.toggleRowSelection(e),this.ids=[],this.ids.push(e.id)},selectChange:function(e){var t=this;console.log(e),this.ids=[];var n=e.map((function(e){return e.id}));n.forEach((function(e){t.ids.push(e)}))},doBatchDelete:function(){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.batchDelete()})).catch((function(){e.$refs.table.clearSelection(),e.ids=[]}))},batchDeleteCancel:function(){this.$refs.table.clearSelection()}}},m=f,p=(n("53e9"),n("2877")),h=Object(p["a"])(m,r,a,!1,null,null,null);t["default"]=h.exports},"2d83":function(e,t,n){"use strict";var r=n("387f");e.exports=function(e,t,n,a,o){var i=new Error(e);return r(i,t,n,a,o)}},"2e67":function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"30b5":function(e,t,n){"use strict";var r=n("c532");function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var i=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(a(t)+"="+a(e))})))})),o=i.join("&")}if(o){var c=e.indexOf("#");-1!==c&&(e=e.slice(0,c)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},"387f":function(e,t,n){"use strict";e.exports=function(e,t,n,r,a){return e.config=t,n&&(e.code=n),e.request=r,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},"38a2":function(e,t,n){"use strict";n("5466")},3934:function(e,t,n){"use strict";var r=n("c532");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=r.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"467f":function(e,t,n){"use strict";var r=n("2d83");e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},"4a7b":function(e,t,n){"use strict";var r=n("c532");e.exports=function(e,t){t=t||{};var n={};function a(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:a(void 0,e[n]):a(e[n],t[n])}function i(e){if(!r.isUndefined(t[e]))return a(void 0,t[e])}function c(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:a(void 0,e[n]):a(void 0,t[n])}function l(n){return n in t?a(e[n],t[n]):n in e?a(void 0,e[n]):void 0}var s={url:i,method:i,data:i,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=s[e]||o,a=t(e);r.isUndefined(a)&&t!==l||(n[e]=a)})),n}},"4d77":function(e,t,n){"use strict";n("566a")},5270:function(e,t,n){"use strict";var r=n("c532"),a=n("c401"),o=n("2e67"),i=n("2444"),c=n("7a77");function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new c("canceled")}e.exports=function(e){l(e),e.headers=e.headers||{},e.data=a.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||i.adapter;return t(e).then((function(t){return l(e),t.data=a.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=a.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},5319:function(e,t,n){"use strict";var r=n("d784"),a=n("d039"),o=n("825a"),i=n("1626"),c=n("5926"),l=n("50c4"),s=n("577e"),u=n("1d80"),d=n("8aa5"),f=n("dc4a"),m=n("0cb2"),p=n("14c3"),h=n("b622"),g=h("replace"),b=Math.max,v=Math.min,y=function(e){return void 0===e?e:String(e)},x=function(){return"$0"==="a".replace(/./,"$0")}(),w=function(){return!!/./[g]&&""===/./[g]("a","$0")}(),k=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));r("replace",(function(e,t,n){var r=w?"$":"$0";return[function(e,n){var r=u(this),a=void 0==e?void 0:f(e,g);return a?a.call(e,r,n):t.call(s(r),e,n)},function(e,a){var u=o(this),f=s(e);if("string"===typeof a&&-1===a.indexOf(r)&&-1===a.indexOf("$<")){var h=n(t,u,f,a);if(h.done)return h.value}var g=i(a);g||(a=s(a));var x=u.global;if(x){var w=u.unicode;u.lastIndex=0}var k=[];while(1){var D=p(u,f);if(null===D)break;if(k.push(D),!x)break;var S=s(D[0]);""===S&&(u.lastIndex=d(f,l(u.lastIndex),w))}for(var _="",C=0,E=0;E<k.length;E++){D=k[E];for(var R=s(D[0]),O=b(v(c(D.index),f.length),0),B=[],P=1;P<D.length;P++)B.push(y(D[P]));var T=D.groups;if(g){var j=[R].concat(B,O,f);void 0!==T&&j.push(T);var F=s(a.apply(void 0,j))}else F=m(R,f,O,B,T,a);O>=C&&(_+=f.slice(C,O)+F,C=O+R.length)}return _+f.slice(C)}]}),!k||!x||w)},"53e9":function(e,t,n){"use strict";n("649d")},5466:function(e,t,n){},"566a":function(e,t,n){},5976:function(e,t,n){"use strict";n("d3b7");var r=n("bc3a"),a=n.n(r),o=n("5c96"),i=a.a.create({baseURL:"https://40h19825m9.goho.co/",timeout:5e3});i.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization=t),e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){var t=e.data,n=t.status,r=t.data,a=t.msg;return 2e4==n?r:(o["Notification"].error({title:"错误信息",message:a}),Promise.reject(!1))}),(function(e){return Promise.reject(e)})),t["a"]=i},"5cce":function(e,t){e.exports={version:"0.22.0"}},"5f02":function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},"5f70":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"body-wrapper"},[n("div",{staticClass:"search-box"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,size:"mini"}},[n("el-form-item",{attrs:{label:"品牌名称"}},[n("el-input",{attrs:{placeholder:"请输入品牌名称"},model:{value:e.searchForm.brandName,callback:function(t){e.$set(e.searchForm,"brandName",t)},expression:"searchForm.brandName"}})],1),n("el-date-picker",{attrs:{size:"mini",type:"datetimerange","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"left"},on:{change:e.chooseTime},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}}),n("el-form-item",{staticStyle:{"margin-left":"10px"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.searchPage}},[e._v("查询")]),n("el-button",{attrs:{type:"warning"},on:{click:e.resetSearchForm}},[e._v("重置")])],1)],1)],1),n("div",{staticClass:"exec-box"},[e.permBtn.add?n("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-share"},on:{click:function(t){e.editDialog=!0,e.formData={brandLogo:""}}}},[e._v("新建 ")]):e._e(),e.permBtn.edit?n("el-button",{attrs:{size:"mini",type:"warning",icon:"el-icon-edit",disabled:1!=e.ids.length},on:{click:function(t){e.findById(e.ids[0]),e.editDialog=!0}}},[e._v("修改 ")]):e._e(),e.permBtn.del?n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",disabled:0==e.ids.length},on:{click:e.doBatchDelete}},[e._v("删除 ")]):e._e()],1),n("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"id",stripe:""},on:{"selection-change":e.selectChange}},[n("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),n("el-table-column",{attrs:{prop:"id",label:"品牌Id",align:"center"}}),n("el-table-column",{attrs:{prop:"brandName",align:"center",label:"品牌名称"}}),n("el-table-column",{attrs:{prop:"brandSite",align:"center",label:"品牌站点"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("a",{attrs:{href:t.row.brandSite,target:"_blank"}},[e._v(e._s(t.row.brandName+"站点"))])]}}])}),n("el-table-column",{attrs:{prop:"brandDesc",align:"center",label:"品牌描述"}}),n("el-table-column",{attrs:{align:"center",label:"品牌图标"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("img",{attrs:{src:e.row.brandLogo,height:"35px",width:"100px",alt:""}})]}}])}),n("el-table-column",{attrs:{prop:"address",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.permBtn.edit?n("el-button",{staticStyle:{"margin-right":"10px"},attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(n){e.findById(t.row.id),e.editDialog=!0}}}):e._e(),n("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"这是一段内容确定删除吗？"},on:{confirm:e.batchDelete,cancel:e.batchDeleteCancel}},[e.permBtn.del?n("el-button",{attrs:{slot:"reference",size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(n){return e.itemBtnClick(t.row)}},slot:"reference"}):e._e()],1)]}}])})],1),n("div",{staticClass:"page-box"},[n("el-pagination",{attrs:{background:"","current-page":e.searchForm.currentPage,"page-size":e.searchForm.pageSize,layout:"prev, pager, next",total:e.total},on:{"current-change":e.pageChangeHandler}})],1),n("el-dialog",{attrs:{title:"操作实体",visible:e.editDialog,width:"32%"},on:{"update:visible":function(t){e.editDialog=t}}},[n("el-form",{ref:"form",attrs:{model:e.formData,rules:e.formRules,"label-width":"80px",size:"small"}},[n("el-form-item",{attrs:{label:"品牌名称",prop:"brandName"}},[n("el-input",{model:{value:e.formData.brandName,callback:function(t){e.$set(e.formData,"brandName",t)},expression:"formData.brandName"}})],1),n("el-form-item",{attrs:{label:"品牌站点",prop:"brandSite"}},[n("el-input",{model:{value:e.formData.brandSite,callback:function(t){e.$set(e.formData,"brandSite",t)},expression:"formData.brandSite"}})],1),n("el-form-item",{attrs:{label:"品牌描述",prop:"brandDesc"}},[n("el-input",{model:{value:e.formData.brandDesc,callback:function(t){e.$set(e.formData,"brandDesc",t)},expression:"formData.brandDesc"}})],1),n("el-form-item",{attrs:{label:"品牌图标"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:"",accept:"image/*","show-file-list":!1,"http-request":e.getImgBaseStr}},[e.formData.brandLogo?n("img",{staticClass:"avatar",attrs:{src:e.formData.brandLogo}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.editDialog=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addOrEdit}},[e._v("确 定")])],1)],1)],1)},a=[],o=n("b85c"),i=n("1da1"),c=(n("d81d"),n("159b"),n("96cf"),n("5976")),l={searchPage:function(e){return c["a"].get("brand",{params:e})},findById:function(e){return c["a"].get("brand/".concat(e))},addBrand:function(e){return c["a"].post("brand",e)},updateBrand:function(e){return c["a"].put("brand",e)},deleteById:function(e){return c["a"].delete("brand/".concat(e))},batchDelete:function(e){return c["a"].delete("brand/batch/".concat(e))}},s=l,u=n("15c2"),d={name:"index",data:function(){return{pickerOptions:u["a"].pickerOptions,value2:u["a"].value2,searchForm:{currentPage:1,pageSize:5},tableData:[],total:0,editDialog:!1,formData:{brandLogo:""},ids:[],permBtn:{id:5,add:!1,edit:!1,del:!1},formRules:{brandName:[{required:!0,message:"请输入品牌名称",trigger:"blur"}],brandSite:[{required:!0,message:"请输入品牌网址",trigger:"blur"},{type:"url",message:"请输入正确的网址",trigger:"blur"}],brandDesc:[{required:!0,message:"请输入品牌描述",trigger:"blur"}]}}},created:function(){this.searchPage(),this.getPerm()},methods:{searchPage:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.searchPage(e.searchForm);case 2:n=t.sent,e.tableData=n.data,e.total=n.total;case 5:case"end":return t.stop()}}),t)})))()},getPerm:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=JSON.parse(localStorage.getItem("menus")),r=e.foundMenuChild(e.permBtn.id,n),r&&r.children){console.log(r.children),a=Object(o["a"])(r.children);try{for(a.s();!(i=a.n()).done;)c=i.value,"base:brand:add"===c.permSign&&(e.permBtn.add=!0),"base:brand:edit"===c.permSign&&(e.permBtn.edit=!0),"base:brand:del"===c.permSign&&(e.permBtn.del=!0)}catch(l){a.e(l)}finally{a.f()}}case 3:case"end":return t.stop()}}),t)})))()},addOrEdit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=12;break}if(!e.formData.id){t.next=6;break}return t.next=4,s.updateBrand(e.formData);case 4:t.next=8;break;case 6:return t.next=8,s.addBrand(e.formData);case 8:e.searchPage(),e.editDialog=!1,t.next=14;break;case 12:return console.log("error submit!!"),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},batchDelete:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.batchDelete(e.ids);case 2:e.searchPage();case 3:case"end":return t.stop()}}),t)})))()},findById:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,s.findById(e);case 2:t.formData=n.sent;case 3:case"end":return n.stop()}}),n)})))()},chooseTime:function(e){this.searchForm.startTime=e[0],this.searchForm.endTime=e[1]},pageChangeHandler:function(e){this.searchForm.currentPage=e,this.searchPage()},resetSearchForm:function(){this.searchForm={currentPage:1,pageSize:5},this.value2=[]},getImgBaseStr:function(e){var t=this,n=new FileReader;n.readAsDataURL(e.file),n.onloadend=function(e){console.log(e.target.result),t.formData.brandLogo=e.target.result}},itemBtnClick:function(e){this.$refs.table.clearSelection(),this.$refs.table.toggleRowSelection(e),this.ids=[],this.ids.push(e.id)},selectChange:function(e){var t=this;console.log(e),this.ids=[];var n=e.map((function(e){return e.id}));n.forEach((function(e){t.ids.push(e)}))},doBatchDelete:function(){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.batchDelete()})).catch((function(){e.$refs.table.clearSelection(),e.ids=[]}))},batchDeleteCancel:function(){this.$refs.table.clearSelection()}}},f=d,m=(n("24cd"),n("2877")),p=Object(m["a"])(f,r,a,!1,null,null,null);t["default"]=p.exports},"649d":function(e,t,n){},"6c35":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"body-wrapper"},[n("div",{staticClass:"search-box"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,size:"mini"}},[n("el-form-item",{attrs:{label:"角色名称"}},[n("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.searchForm.roleName,callback:function(t){e.$set(e.searchForm,"roleName",t)},expression:"searchForm.roleName"}})],1),n("el-date-picker",{attrs:{size:"mini",type:"datetimerange","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"left"},on:{change:e.chooseTime},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}}),n("el-form-item",{staticStyle:{"margin-left":"10px"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.searchPage}},[e._v("查询")]),n("el-button",{attrs:{type:"warning"},on:{click:e.resetSearchForm}},[e._v("重置")])],1)],1)],1),n("div",{staticClass:"exec-box"},[e.permBtn.add?n("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-share"},on:{click:function(t){e.editDialog=!0,e.formData={}}}},[e._v("新建 ")]):e._e(),e.permBtn.edit?n("el-button",{attrs:{size:"mini",type:"warning",icon:"el-icon-edit",disabled:1!=e.ids.length},on:{click:function(t){e.findById(e.ids[0]),e.editDialog=!0}}},[e._v("修改 ")]):e._e(),e.permBtn.del?n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",disabled:0==e.ids.length},on:{click:e.doBatchDelete}},[e._v("删除 ")]):e._e()],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-scrollbar",{staticStyle:{width:"98%"}},[n("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"id","highlight-current-row":""},on:{"row-click":e.roleClick,"selection-change":e.selectChange}},[n("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),n("el-table-column",{attrs:{prop:"id",label:"角色id",align:"center"}}),n("el-table-column",{attrs:{prop:"roleName",align:"center",label:"角色名称"}}),n("el-table-column",{attrs:{prop:"roleDesc",align:"center",label:"角色描述"}}),n("el-table-column",{attrs:{prop:"address",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.permBtn.edit?n("el-button",{staticStyle:{"margin-right":"10px"},attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(n){e.findById(t.row.id),e.editDialog=!0}}}):e._e(),n("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"这是一段内容确定删除吗？"},on:{confirm:e.batchDelete,cancel:e.batchDeleteCancel}},[e.permBtn.del?n("el-button",{attrs:{slot:"reference",size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(n){return e.itemBtnClick(t.row)}},slot:"reference"}):e._e()],1)]}}])})],1),n("div",{staticClass:"page-box"},[n("el-pagination",{attrs:{background:"","current-page":e.searchForm.currentPage,"page-size":e.searchForm.pageSize,layout:"prev, pager, next",total:e.total},on:{"current-change":e.pageChangeHandler}})],1)],1)],1),e.permBtn.perm?n("el-col",{attrs:{span:12}},[n("el-scrollbar",{staticStyle:{width:"98%"}},[n("h1",{staticStyle:{"text-align":"center"}},[n("el-tree",{ref:"menuTree",staticStyle:{width:"70%",position:"relative",left:"20%"},attrs:{"node-key":"id","default-expand-all":"",props:{label:"menuTitle"},data:e.treeData,"show-checkbox":"",indent:20},on:{"check-change":e.getMenuIds}}),n("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"warning"},on:{click:e.saveMenuToRole}},[e._v("保存")])],1)])],1):e._e()],1),n("el-dialog",{attrs:{title:"操作实体",visible:e.editDialog,width:"32%"},on:{"update:visible":function(t){e.editDialog=t}}},[n("el-form",{ref:"form",attrs:{model:e.formData,rules:e.formRules,"label-width":"80px",size:"small"}},[n("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[n("el-input",{model:{value:e.formData.roleName,callback:function(t){e.$set(e.formData,"roleName",t)},expression:"formData.roleName"}})],1),n("el-form-item",{attrs:{label:"角色描述",prop:"roleDesc"}},[n("el-input",{model:{value:e.formData.roleDesc,callback:function(t){e.$set(e.formData,"roleDesc",t)},expression:"formData.roleDesc"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.editDialog=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addOrEdit}},[e._v("确 定")])],1)],1)],1)},a=[],o=n("b85c"),i=n("1da1"),c=(n("d81d"),n("159b"),n("96cf"),n("5976")),l={searchPage:function(e){return c["a"].get("role",{params:e})},findById:function(e){return c["a"].get("role/".concat(e))},add:function(e){return c["a"].post("role",e)},update:function(e){return c["a"].put("role",e)},deleteById:function(e){return c["a"].delete("role/".concat(e))},batchDelete:function(e){return c["a"].delete("role/batch/".concat(e))},getAllMenuList:function(){return c["a"].get("role/allMenuList")},getMenuListByRoleId:function(e){return c["a"].get("role/menuList/".concat(e))},saveMenuToRole:function(e){return c["a"].put("role/menu",e)}},s=l,u=n("15c2"),d={name:"index",data:function(){return{pickerOptions:u["a"].pickerOptions,value2:u["a"].value2,searchForm:{currentPage:1,pageSize:5},tableData:[],treeData:[],treeForm:{roleId:void 0,menuIds:[]},total:0,editDialog:!1,formData:{},ids:[],permBtn:{id:6,add:!1,edit:!1,del:!1,perm:!1},formRules:{roleName:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],roleDesc:[{required:!0,message:"角色描述不能为空",trigger:"blur"}]}}},created:function(){this.searchPage(),this.getPerm()},methods:{getPerm:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=JSON.parse(localStorage.getItem("menus")),r=e.foundMenuChild(e.permBtn.id,n),console.log(r),r&&r.children){a=Object(o["a"])(r.children);try{for(a.s();!(i=a.n()).done;)c=i.value,"sys:role:add"===c.permSign&&(e.permBtn.add=!0),"sys:role:edit"===c.permSign&&(e.permBtn.edit=!0),"sys:role:del"===c.permSign&&(e.permBtn.del=!0),"sys:role:grant"===c.permSign&&(e.permBtn.perm=!0)}catch(l){a.e(l)}finally{a.f()}}case 4:case"end":return t.stop()}}),t)})))()},getMenuIds:function(){this.treeForm.menuIds=[],Array.prototype.push.apply(this.treeForm.menuIds,this.$refs.menuTree.getCheckedKeys(!1)),Array.prototype.push.apply(this.treeForm.menuIds,this.$refs.menuTree.getHalfCheckedKeys())},roleClick:function(e){this.treeForm.roleId=e.id,this.findMenuListById(this.treeForm.roleId)},searchPage:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.searchPage(e.searchForm);case 2:return n=t.sent,e.tableData=n.data,e.total=n.total,t.next=7,s.getAllMenuList();case 7:e.treeData=t.sent;case 8:case"end":return t.stop()}}),t)})))()},addOrEdit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=13;break}if(!e.formData.id){t.next=6;break}return t.next=4,s.update(e.formData);case 4:t.next=8;break;case 6:return t.next=8,s.add(e.formData);case 8:return t.next=10,e.searchPage();case 10:e.editDialog=!1,t.next=15;break;case 13:return console.log("error submit!!"),t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},saveMenuToRole:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.saveMenuToRole(e.treeForm);case 2:return t.next=4,e.searchPage();case 4:e.treeForm.roleId=void 0,e.$refs.table.setCurrentRow();case 6:case"end":return t.stop()}}),t)})))()},batchDelete:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.batchDelete(e.ids);case 2:e.searchPage();case 3:case"end":return t.stop()}}),t)})))()},findById:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,s.findById(e);case 2:t.formData=n.sent;case 3:case"end":return n.stop()}}),n)})))()},findMenuListById:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.permBtn.perm){n.next=7;break}return n.next=3,s.getMenuListByRoleId(e);case 3:t.treeForm.menuIds=n.sent,t.$refs.menuTree.setCheckedKeys([]),r=Object(o["a"])(t.treeForm.menuIds);try{for(r.s();!(a=r.n()).done;)i=a.value,t.$refs.menuTree.setChecked(i,!0,!1)}catch(c){r.e(c)}finally{r.f()}case 7:case"end":return n.stop()}}),n)})))()},chooseTime:function(e){this.searchForm.startTime=e[0],this.searchForm.endTime=e[1]},pageChangeHandler:function(e){this.searchForm.currentPage=e,this.searchPage()},resetSearchForm:function(){this.searchForm={currentPage:1,pageSize:5},this.value2=[]},itemBtnClick:function(e){this.$refs.table.clearSelection(),this.$refs.table.toggleRowSelection(e),this.ids=[],this.ids.push(e.id)},selectChange:function(e){var t=this;console.log(e),this.ids=[];var n=e.map((function(e){return e.id}));n.forEach((function(e){t.ids.push(e)}))},doBatchDelete:function(){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.batchDelete()})).catch((function(){e.$refs.table.clearSelection(),e.ids=[]}))},batchDeleteCancel:function(){this.$refs.table.clearSelection()}}},f=d,m=(n("7ee0"),n("2877")),p=Object(m["a"])(f,r,a,!1,null,null,null);t["default"]=p.exports},"7a77":function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},"7aac":function(e,t,n){"use strict";var r=n("c532");e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,a,o,i){var c=[];c.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),r.isString(a)&&c.push("path="+a),r.isString(o)&&c.push("domain="+o),!0===i&&c.push("secure"),document.cookie=c.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7ee0":function(e,t,n){"use strict";n("ffd1")},"83b9":function(e,t,n){"use strict";var r=n("d925"),a=n("e683");e.exports=function(e,t){return e&&!r(t)?a(e,t):t}},"848b":function(e,t,n){"use strict";var r=n("5cce").version,a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};function i(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");var r=Object.keys(e),a=r.length;while(a-- >0){var o=r[a],i=t[o];if(i){var c=e[o],l=void 0===c||i(c,o,e);if(!0!==l)throw new TypeError("option "+o+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+o)}}a.transitional=function(e,t,n){function a(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,i){if(!1===e)throw new Error(a(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,i)}},e.exports={assertOptions:i,validators:a}},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8df4":function(e,t,n){"use strict";var r=n("7a77");function a(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},a.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},a.source=function(){var e,t=new a((function(t){e=t}));return{token:t,cancel:e}},e.exports=a},9263:function(e,t,n){"use strict";var r=n("577e"),a=n("ad6d"),o=n("9f7f"),i=n("5692"),c=n("7c73"),l=n("69f3").get,s=n("fce3"),u=n("107c"),d=RegExp.prototype.exec,f=i("native-string-replace",String.prototype.replace),m=d,p=function(){var e=/a/,t=/b*/g;return d.call(e,"a"),d.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),h=o.UNSUPPORTED_Y||o.BROKEN_CARET,g=void 0!==/()??/.exec("")[1],b=p||g||h||s||u;b&&(m=function(e){var t,n,o,i,s,u,b,v=this,y=l(v),x=r(e),w=y.raw;if(w)return w.lastIndex=v.lastIndex,t=m.call(w,x),v.lastIndex=w.lastIndex,t;var k=y.groups,D=h&&v.sticky,S=a.call(v),_=v.source,C=0,E=x;if(D&&(S=S.replace("y",""),-1===S.indexOf("g")&&(S+="g"),E=x.slice(v.lastIndex),v.lastIndex>0&&(!v.multiline||v.multiline&&"\n"!==x.charAt(v.lastIndex-1))&&(_="(?: "+_+")",E=" "+E,C++),n=new RegExp("^(?:"+_+")",S)),g&&(n=new RegExp("^"+_+"$(?!\\s)",S)),p&&(o=v.lastIndex),i=d.call(D?n:v,E),D?i?(i.input=i.input.slice(C),i[0]=i[0].slice(C),i.index=v.lastIndex,v.lastIndex+=i[0].length):v.lastIndex=0:p&&i&&(v.lastIndex=v.global?i.index+i[0].length:o),g&&i&&i.length>1&&f.call(i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i&&k)for(i.groups=u=c(null),s=0;s<k.length;s++)b=k[s],u[b[0]]=i[b[1]];return i}),e.exports=m},"96cf":function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(T){l=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=_(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=s;var d="suspendedStart",f="suspendedYield",m="executing",p="completed",h={};function g(){}function b(){}function v(){}var y={};l(y,o,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(B([])));w&&w!==n&&r.call(w,o)&&(y=w);var k=v.prototype=g.prototype=Object.create(y);function D(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,c){var l=u(e[a],e,o);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;function o(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}this._invoke=o}function _(e,t,n){var r=d;return function(a,o){if(r===m)throw new Error("Generator is already running");if(r===p){if("throw"===a)throw o;return P()}n.method=a,n.arg=o;while(1){var i=n.delegate;if(i){var c=C(i,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=m;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?p:f,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=u(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function B(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){while(++a<e.length)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:P}}function P(){return{value:t,done:!0}}return b.prototype=v,l(k,"constructor",v),l(v,"constructor",b),b.displayName=l(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},D(S.prototype),l(S.prototype,i,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},D(k),l(k,c,"Generator"),l(k,o,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=B,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return c.type="throw",c.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;R(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:B(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=r}catch(a){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},"9f7f":function(e,t,n){var r=n("d039"),a=n("da84"),o=a.RegExp;t.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},ac1f:function(e,t,n){"use strict";var r=n("23e7"),a=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b50d:function(e,t,n){"use strict";var r=n("c532"),a=n("467f"),o=n("7aac"),i=n("30b5"),c=n("83b9"),l=n("c345"),s=n("3934"),u=n("2d83"),d=n("2444"),f=n("7a77");e.exports=function(e){return new Promise((function(t,n){var m,p=e.data,h=e.headers,g=e.responseType;function b(){e.cancelToken&&e.cancelToken.unsubscribe(m),e.signal&&e.signal.removeEventListener("abort",m)}r.isFormData(p)&&delete h["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",x=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(y+":"+x)}var w=c(e.baseURL,e.url);function k(){if(v){var r="getAllResponseHeaders"in v?l(v.getAllResponseHeaders()):null,o=g&&"text"!==g&&"json"!==g?v.response:v.responseText,i={data:o,status:v.status,statusText:v.statusText,headers:r,config:e,request:v};a((function(e){t(e),b()}),(function(e){n(e),b()}),i),v=null}}if(v.open(e.method.toUpperCase(),i(w,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=k:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(k)},v.onabort=function(){v&&(n(u("Request aborted",e,"ECONNABORTED",v)),v=null)},v.onerror=function(){n(u("Network Error",e,null,v)),v=null},v.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded",r=e.transitional||d.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},r.isStandardBrowserEnv()){var D=(e.withCredentials||s(w))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;D&&(h[e.xsrfHeaderName]=D)}"setRequestHeader"in v&&r.forEach(h,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete h[t]:v.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),g&&"json"!==g&&(v.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(m=function(e){v&&(n(!e||e&&e.type?new f("canceled"):e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(m),e.signal&&(e.signal.aborted?m():e.signal.addEventListener("abort",m))),p||(p=null),v.send(p)}))}},bc3a:function(e,t,n){e.exports=n("cee4")},c345:function(e,t,n){"use strict";var r=n("c532"),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,i={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(i[t]&&a.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}},c401:function(e,t,n){"use strict";var r=n("c532"),a=n("2444");e.exports=function(e,t,n){var o=this||a;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},c532:function(e,t,n){"use strict";var r=n("1d2b"),a=Object.prototype.toString;function o(e){return"[object Array]"===a.call(e)}function i(e){return"undefined"===typeof e}function c(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function l(e){return"[object ArrayBuffer]"===a.call(e)}function s(e){return"undefined"!==typeof FormData&&e instanceof FormData}function u(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function d(e){return"string"===typeof e}function f(e){return"number"===typeof e}function m(e){return null!==e&&"object"===typeof e}function p(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function h(e){return"[object Date]"===a.call(e)}function g(e){return"[object File]"===a.call(e)}function b(e){return"[object Blob]"===a.call(e)}function v(e){return"[object Function]"===a.call(e)}function y(e){return m(e)&&v(e.pipe)}function x(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function w(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function k(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function D(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function S(){var e={};function t(t,n){p(e[n])&&p(t)?e[n]=S(e[n],t):p(t)?e[n]=S({},t):o(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)D(arguments[n],t);return e}function _(e,t,n){return D(t,(function(t,a){e[a]=n&&"function"===typeof t?r(t,n):t})),e}function C(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:o,isArrayBuffer:l,isBuffer:c,isFormData:s,isArrayBufferView:u,isString:d,isNumber:f,isObject:m,isPlainObject:p,isUndefined:i,isDate:h,isFile:g,isBlob:b,isFunction:v,isStream:y,isURLSearchParams:x,isStandardBrowserEnv:k,forEach:D,merge:S,extend:_,trim:w,stripBOM:C}},c8af:function(e,t,n){"use strict";var r=n("c532");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},cee4:function(e,t,n){"use strict";var r=n("c532"),a=n("1d2b"),o=n("0a06"),i=n("4a7b"),c=n("2444");function l(e){var t=new o(e),n=a(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n.create=function(t){return l(i(e,t))},n}var s=l(c);s.Axios=o,s.Cancel=n("7a77"),s.CancelToken=n("8df4"),s.isCancel=n("2e67"),s.VERSION=n("5cce").version,s.all=function(e){return Promise.all(e)},s.spread=n("0df6"),s.isAxiosError=n("5f02"),e.exports=s,e.exports.default=s},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),a=n("9263"),o=n("d039"),i=n("b622"),c=n("9112"),l=i("species"),s=RegExp.prototype;e.exports=function(e,t,n,u){var d=i(e),f=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),m=f&&!o((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!f||!m||n){var p=/./[d],h=t(d,""[e],(function(e,t,n,r,o){var i=t.exec;return i===a||i===s.exec?f&&!o?{done:!0,value:p.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}));r(String.prototype,e,h[0]),r(s,d,h[1])}u&&c(s[d],"sham",!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").map,o=n("1dde"),i=o("map");r({target:"Array",proto:!0,forced:!i},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},d925:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},dc3f:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-wrapper"},[e._m(0),n("div",{staticClass:"login-right"},[n("div",{staticClass:"login-form"},[n("img",{attrs:{src:"https://juheimg.oss-cn-hangzhou.aliyuncs.com/www/logo/v7/loginlogo.png",alt:""}}),n("h3",[e._v("账号登录")]),n("div",{staticClass:"form-item"},[n("i",{staticClass:"el-icon-user-solid"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.username,expression:"loginForm.username"}],attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:e.loginForm.username},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"username",t.target.value)}}})]),n("div",{staticClass:"form-item"},[n("i",{staticClass:"el-icon-s-opportunity"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.password,expression:"loginForm.password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.loginForm.password},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"password",t.target.value)}}})]),n("div",{staticClass:"form-item"},[n("i",{staticClass:"el-icon-s-opportunity"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.code,expression:"loginForm.code"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:e.loginForm.code},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"code",t.target.value)}}}),n("img",{attrs:{src:e.baseStr},on:{click:e.getCode}})]),n("el-button",{on:{click:e.doLogin}},[e._v("登录")])],1)])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-left"},[n("img",{attrs:{src:"https://juheimgs.oss-cn-beijing.aliyuncs.com/banner/201606/57721b4f0b5e8.png",border:"0"}})])}],o=n("1da1"),i=(n("ac1f"),n("5319"),n("d3b7"),n("25f0"),n("96cf"),n("5976")),c={name:"login",data:function(){return{baseStr:"",loginForm:{uuid:"",code:"",username:"",password:""}}},methods:{getCode:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loginForm.uuid=e.guid(),t.next=3,i["a"].get("common/getCode?uuid=".concat(e.loginForm.uuid));case 3:e.baseStr=t.sent;case 4:case"end":return t.stop()}}),t)})))()},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}))},doLogin:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].post("common/doLogin",e.loginForm);case 2:n=t.sent,localStorage.setItem("token",n.token),localStorage.setItem("menus",n.menus),e.$router.push("/mainui");case 6:case"end":return t.stop()}}),t)})))()}},created:function(){this.getCode()}},l=c,s=(n("38a2"),n("2877")),u=Object(s["a"])(l,r,a,!1,null,"12d0584e",null);t["default"]=u.exports},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,a=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!a){n=t+1;break}}else-1===r&&(a=!1,r=t+1);return-1===r?"":e.slice(n,r)}function a(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var i=o>=0?arguments[o]:e.cwd();if("string"!==typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,r="/"===i.charAt(0))}return t=n(a(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),i="/"===o(e,-1);return e=n(a(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&i&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(a(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var a=r(e.split("/")),o=r(n.split("/")),i=Math.min(a.length,o.length),c=i,l=0;l<i;l++)if(a[l]!==o[l]){c=l;break}var s=[];for(l=c;l<a.length;l++)s.push("..");return s=s.concat(o.slice(c)),s.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,a=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!a){r=o;break}}else a=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,a=!0,o=0,i=e.length-1;i>=0;--i){var c=e.charCodeAt(i);if(47!==c)-1===r&&(a=!1,r=i+1),46===c?-1===t?t=i:1!==o&&(o=1):-1!==t&&(o=-1);else if(!a){n=i+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e683:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},f6b4:function(e,t,n){"use strict";var r=n("c532");function a(){this.handlers=[]}a.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},f833:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"body-wrapper"},[n("div",{staticClass:"search-box"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,size:"mini"}},[n("el-form-item",{attrs:{label:"菜单标题"}},[n("el-input",{attrs:{placeholder:"请输入菜单标题"},model:{value:e.searchForm.menuTitle,callback:function(t){e.$set(e.searchForm,"menuTitle",t)},expression:"searchForm.menuTitle"}})],1),n("el-date-picker",{attrs:{size:"mini",type:"datetimerange","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"left"},on:{change:e.chooseTime},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}}),n("el-form-item",{staticStyle:{"margin-left":"10px"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.searchPage}},[e._v("查询")]),n("el-button",{attrs:{type:"warning"},on:{click:e.resetSearchForm}},[e._v("重置")])],1)],1)],1),n("div",{staticClass:"exec-box"},[e.permBtn.add?n("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-share"},on:{click:function(t){e.editDialog=!0,e.formData={menuIcon:"",menuType:0}}}},[e._v("新建 ")]):e._e(),e.permBtn.edit?n("el-button",{attrs:{size:"mini",type:"warning",icon:"el-icon-edit",disabled:1!=e.ids.length},on:{click:function(t){e.findById(e.ids[0]),e.editDialog=!0}}},[e._v("修改 ")]):e._e(),e.permBtn.del?n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",disabled:0==e.ids.length},on:{click:e.doBatchDelete}},[e._v("删除 ")]):e._e()],1),n("el-scrollbar",{staticStyle:{height:"75%",width:"98%"}},[n("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"id"},on:{"selection-change":e.selectChange}},[n("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),n("el-table-column",{attrs:{prop:"menuTitle",align:"center",label:"菜单标题"}}),n("el-table-column",{attrs:{align:"menuIcon",label:"菜单图标"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("i",{class:e.row.menuIcon})]}}])}),n("el-table-column",{attrs:{prop:"menuType",align:"center",label:"菜单类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.menuType?n("el-tag",{attrs:{effect:"dark",type:""}},[e._v("目录")]):e._e(),1===t.row.menuType?n("el-tag",{attrs:{type:"success"}},[e._v("菜单")]):e._e(),2===t.row.menuType?n("el-tag",{attrs:{type:"danger"}},[e._v("按钮")]):e._e()]}}])}),n("el-table-column",{attrs:{prop:"component",align:"center",label:"组件"}}),n("el-table-column",{attrs:{prop:"routerPath",align:"center",label:"路由路径"}}),n("el-table-column",{attrs:{prop:"permSign",align:"center",label:"权限标识"}}),n("el-table-column",{attrs:{align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.permBtn.edit?n("el-button",{staticStyle:{"margin-right":"10px"},attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(n){e.findById(t.row.id),e.editDialog=!0}}}):e._e(),n("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"这是一段内容确定删除吗？"},on:{confirm:e.batchDelete,cancel:e.batchDeleteCancel}},[e.permBtn.del?n("el-button",{attrs:{slot:"reference",size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(n){return e.itemBtnClick(t.row)}},slot:"reference"}):e._e()],1)]}}])})],1)],1),n("div",{staticClass:"page-box"},[n("el-pagination",{attrs:{background:"","current-page":e.searchForm.currentPage,"page-size":e.searchForm.pageSize,layout:"prev, pager, next",total:e.total},on:{"current-change":e.pageChangeHandler}})],1),n("el-dialog",{attrs:{title:"操作实体",visible:e.editDialog,width:"32%"},on:{"update:visible":function(t){e.editDialog=t}}},[n("el-form",{ref:"form",attrs:{model:e.formData,rules:e.formRules,"label-width":"80px",size:"small"}},[n("el-form-item",{attrs:{label:"父菜单",prop:"parentId"}},[n("el-cascader",{attrs:{options:e.menuListOptions,props:{checkStrictly:!0,value:"id",label:"menuTitle",emitPath:!1},clearable:"",placeholder:"选择父菜单"},model:{value:e.formData.parentId,callback:function(t){e.$set(e.formData,"parentId",t)},expression:"formData.parentId"}})],1),n("el-form-item",{attrs:{label:"菜单名称",prop:"menuTitle"}},[n("el-input",{model:{value:e.formData.menuTitle,callback:function(t){e.$set(e.formData,"menuTitle",t)},expression:"formData.menuTitle"}})],1),n("el-form-item",{attrs:{label:"菜单类型",prop:"menuType"}},[n("el-select",{model:{value:e.formData.menuType,callback:function(t){e.$set(e.formData,"menuType",t)},expression:"formData.menuType"}},e._l(e.menuTypeList,(function(e){return n("el-option",{key:e.id,attrs:{value:e.id,label:e.label}})})),1)],1),n("el-form-item",{attrs:{label:"权限标识",prop:"permSign"}},[n("el-input",{model:{value:e.formData.permSign,callback:function(t){e.$set(e.formData,"permSign",t)},expression:"formData.permSign"}})],1),2!=e.formData.menuType?n("el-form-item",{attrs:{label:"路由路径",prop:"brandSite"}},[n("el-input",{model:{value:e.formData.routerPath,callback:function(t){e.$set(e.formData,"routerPath",t)},expression:"formData.routerPath"}})],1):e._e(),2!=e.formData.menuType?n("el-form-item",{attrs:{label:"组件",prop:"brandDesc"}},[n("el-input",{model:{value:e.formData.component,callback:function(t){e.$set(e.formData,"component",t)},expression:"formData.component"}})],1):e._e(),2!=e.formData.menuType?n("el-form-item",{attrs:{label:"菜单图标"}},[n("selectElicon",{attrs:{default:e.formData.menuIcon},on:{changeIcon:e.changeIcon}})],1):e._e()],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.editDialog=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addOrEdit}},[e._v("确 定")])],1)],1)],1)},a=[],o=n("b85c"),i=n("1da1"),c=(n("d81d"),n("159b"),n("96cf"),n("5976")),l={searchPage:function(e){return c["a"].get("menu",{params:e})},findById:function(e){return c["a"].get("menu/".concat(e))},addMenu:function(e){return c["a"].post("menu",e)},updateMenu:function(e){return c["a"].put("menu",e)},deleteById:function(e){return c["a"].delete("menu/".concat(e))},batchDelete:function(e){return c["a"].delete("menu/batch/".concat(e))},getSelectMenuList:function(){return c["a"].get("menu/notBtnList")}},s=l,u=n("15c2"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{attrs:{placeholder:"请选择"},on:{change:e.click},model:{value:e.icon,callback:function(t){e.icon=t},expression:"icon"}},e._l(e.options,(function(e){return n("el-option",{key:e,attrs:{value:e}},[n("i",{class:e})])})),1)},f=[],m={name:"selectElicon",props:["default"],data:function(){return{icon:this.default,options:["el-icon-platform-eleme","el-icon-eleme","el-icon-delete-solid","el-icon-delete","el-icon-s-tools","el-icon-setting","el-icon-user-solid","el-icon-user","el-icon-phone","el-icon-phone-outline","el-icon-more","el-icon-more-outline","el-icon-star-on","el-icon-star-off","el-icon-s-goods","el-icon-goods","el-icon-warning","el-icon-warning-outline","el-icon-question","el-icon-info","el-icon-remove","el-icon-circle-plus","el-icon-success","el-icon-error","el-icon-zoom-in","el-icon-zoom-out","el-icon-remove-outline","el-icon-circle-plus-outline","el-icon-circle-check","el-icon-circle-close","el-icon-s-help","el-icon-help","el-icon-minus","el-icon-plus","el-icon-check","el-icon-close","el-icon-picture","el-icon-picture-outline","el-icon-picture-outline-round","el-icon-upload","el-icon-upload2","el-icon-download","el-icon-camera-solid","el-icon-camera","el-icon-video-camera-solid","el-icon-video-camera","el-icon-message-solid","el-icon-bell","el-icon-s-cooperation","el-icon-s-order","el-icon-s-platform","el-icon-s-fold","el-icon-s-unfold","el-icon-s-operation","el-icon-s-promotion","el-icon-s-home","el-icon-s-release","el-icon-s-ticket","el-icon-s-management","el-icon-s-open","el-icon-s-shop","el-icon-s-marketing","el-icon-s-flag","el-icon-s-comment","el-icon-s-finance","el-icon-s-claim","el-icon-s-custom","el-icon-s-opportunity","el-icon-s-data","el-icon-s-check","el-icon-s-grid","el-icon-menu","el-icon-share","el-icon-d-caret","el-icon-caret-left","el-icon-caret-right","el-icon-caret-bottom","el-icon-caret-top","el-icon-bottom-left","el-icon-bottom-right","el-icon-back","el-icon-right","el-icon-bottom","el-icon-top","el-icon-top-left","el-icon-top-right","el-icon-arrow-left","el-icon-arrow-right","el-icon-arrow-down","el-icon-arrow-up","el-icon-d-arrow-left","el-icon-d-arrow-right","el-icon-video-pause","el-icon-video-play","el-icon-refresh","el-icon-refresh-right","el-icon-refresh-left","el-icon-finished","el-icon-sort","el-icon-sort-up","el-icon-sort-down","el-icon-rank","el-icon-loading","el-icon-view","el-icon-c-scale-to-original","el-icon-date","el-icon-edit","el-icon-edit-outline","el-icon-folder","el-icon-folder-opened","el-icon-folder-add","el-icon-folder-remove","el-icon-folder-delete","el-icon-folder-checked","el-icon-tickets","el-icon-document-remove","el-icon-document-delete","el-icon-document-copy","el-icon-document-checked","el-icon-document","el-icon-document-add","el-icon-printer","el-icon-paperclip","el-icon-takeaway-box","el-icon-search","el-icon-monitor","el-icon-attract","el-icon-mobile","el-icon-scissors","el-icon-umbrella","el-icon-headset","el-icon-brush","el-icon-mouse","el-icon-coordinate","el-icon-magic-stick","el-icon-reading","el-icon-data-line","el-icon-data-board","el-icon-pie-chart","el-icon-data-analysis","el-icon-collection-tag","el-icon-film","el-icon-suitcase","el-icon-suitcase-1","el-icon-receiving","el-icon-collection","el-icon-files","el-icon-notebook-1","el-icon-notebook-2","el-icon-toilet-paper","el-icon-office-building","el-icon-school","el-icon-table-lamp","el-icon-house","el-icon-no-smoking","el-icon-smoking","el-icon-shopping-cart-full","el-icon-shopping-cart-1","el-icon-shopping-cart-2","el-icon-shopping-bag-1","el-icon-shopping-bag-2","el-icon-sold-out","el-icon-sell","el-icon-present","el-icon-box","el-icon-bank-card","el-icon-money","el-icon-coin","el-icon-wallet","el-icon-discount","el-icon-price-tag","el-icon-news","el-icon-guide","el-icon-male","el-icon-female","el-icon-thumb","el-icon-cpu","el-icon-link","el-icon-connection","el-icon-open","el-icon-turn-off","el-icon-set-up","el-icon-chat-round","el-icon-chat-line-round","el-icon-chat-square","el-icon-chat-dot-round","el-icon-chat-dot-square","el-icon-chat-line-square","el-icon-message","el-icon-postcard","el-icon-position","el-icon-turn-off-microphone","el-icon-microphone","el-icon-close-notification","el-icon-bangzhu","el-icon-time","el-icon-odometer","el-icon-crop","el-icon-aim","el-icon-switch-button","el-icon-full-screen","el-icon-copy-document","el-icon-mic","el-icon-stopwatch","el-icon-medal-1","el-icon-medal","el-icon-trophy","el-icon-trophy-1","el-icon-first-aid-kit","el-icon-discover","el-icon-place","el-icon-location","el-icon-location-outline","el-icon-location-information","el-icon-add-location","el-icon-delete-location","el-icon-map-location","el-icon-alarm-clock","el-icon-timer","el-icon-watch-1","el-icon-watch","el-icon-lock","el-icon-unlock","el-icon-key","el-icon-service","el-icon-mobile-phone","el-icon-bicycle","el-icon-truck","el-icon-ship","el-icon-basketball","el-icon-football","el-icon-soccer","el-icon-baseball","el-icon-wind-power","el-icon-light-rain","el-icon-lightning","el-icon-heavy-rain","el-icon-sunrise","el-icon-sunrise-1","el-icon-sunset","el-icon-sunny","el-icon-cloudy","el-icon-partly-cloudy","el-icon-cloudy-and-sunny","el-icon-moon","el-icon-moon-night","el-icon-dish","el-icon-dish-1","el-icon-food","el-icon-chicken","el-icon-fork-spoon","el-icon-knife-fork","el-icon-burger","el-icon-tableware","el-icon-sugar","el-icon-dessert","el-icon-ice-cream","el-icon-hot-water","el-icon-water-cup","el-icon-coffee-cup","el-icon-cold-drink","el-icon-goblet","el-icon-goblet-full","el-icon-goblet-square","el-icon-goblet-square-full","el-icon-refrigerator","el-icon-grape","el-icon-watermelon","el-icon-cherry","el-icon-apple","el-icon-pear","el-icon-orange","el-icon-coffee","el-icon-ice-tea","el-icon-ice-drink","el-icon-milk-tea","el-icon-potato-strips","el-icon-lollipop","el-icon-ice-cream-square","el-icon-ice-cream-round"]}},methods:{click:function(){this.$emit("changeIcon",this.icon)}}},p=m,h=n("2877"),g=Object(h["a"])(p,d,f,!1,null,"ff6811a0",null),b=g.exports,v={components:{selectElicon:b},name:"index",data:function(){return{pickerOptions:u["a"].pickerOptions,value2:u["a"].value2,searchForm:{currentPage:1,pageSize:5},tableData:[],total:0,editDialog:!1,formData:{menuIcon:"",menuType:0},ids:[],menuTypeList:[{id:0,label:"目录"},{id:1,label:"菜单"},{id:2,label:"按钮"}],menuListOptions:[{id:0,menuTitle:"主菜单",children:[]}],permBtn:{id:8,add:!1,edit:!1,del:!1},formRules:{menuTitle:[{required:!0,message:"请输入菜单名称",trigger:"blur"}],parentId:[{required:!0,message:"请选择父菜单",trigger:"change"},{type:"number",message:"请选择正确的父菜单",trigger:"change"}],menuType:[{required:!0,message:"请选择菜单类型",trigger:"blur"}],permSign:[{required:!0,message:"请输入权限标识",trigger:"blur"}]}}},created:function(){this.searchPage(),this.getPerm()},methods:{getPerm:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=JSON.parse(localStorage.getItem("menus")),r=e.foundMenuChild(e.permBtn.id,n),console.log(r),r&&r.children){a=Object(o["a"])(r.children);try{for(a.s();!(i=a.n()).done;)c=i.value,"sys:menu:add"===c.permSign&&(e.permBtn.add=!0),"sys:menu:edit"===c.permSign&&(e.permBtn.edit=!0),"sys:menu:del"===c.permSign&&(e.permBtn.del=!0)}catch(l){a.e(l)}finally{a.f()}}case 4:case"end":return t.stop()}}),t)})))()},searchPage:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.searchPage(e.searchForm);case 2:return n=t.sent,e.tableData=n.list,e.total=n.total,t.next=7,s.getSelectMenuList();case 7:e.menuListOptions[0].children=t.sent;case 8:case"end":return t.stop()}}),t)})))()},addOrEdit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=12;break}if(!e.formData.id){t.next=6;break}return t.next=4,s.updateMenu(e.formData);case 4:t.next=8;break;case 6:return t.next=8,s.addMenu(e.formData);case 8:e.searchPage(),e.editDialog=!1,t.next=14;break;case 12:return console.log("error submit!!"),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},batchDelete:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.batchDelete(e.ids);case 2:e.searchPage();case 3:case"end":return t.stop()}}),t)})))()},findById:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,s.findById(e);case 2:t.formData=n.sent;case 3:case"end":return n.stop()}}),n)})))()},chooseTime:function(e){this.searchForm.startTime=e[0],this.searchForm.endTime=e[1]},pageChangeHandler:function(e){this.searchForm.currentPage=e,this.searchPage()},resetSearchForm:function(){this.searchForm={currentPage:1,pageSize:5},this.value2=[]},changeIcon:function(e){this.formData.menuIcon=e},itemBtnClick:function(e){this.$refs.table.clearSelection(),this.$refs.table.toggleRowSelection(e),this.ids=[],this.ids.push(e.id)},selectChange:function(e){var t=this;console.log(e),this.ids=[];var n=e.map((function(e){return e.id}));n.forEach((function(e){t.ids.push(e)}))},doBatchDelete:function(){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.batchDelete()})).catch((function(){e.$refs.table.clearSelection(),e.ids=[]}))},batchDeleteCancel:function(){this.$refs.table.clearSelection()}}},y=v,x=(n("4d77"),Object(h["a"])(y,r,a,!1,null,null,null));t["default"]=x.exports},fce3:function(e,t,n){var r=n("d039"),a=n("da84"),o=a.RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},ffd1:function(e,t,n){}}]);
//# sourceMappingURL=about.acef7065.js.map